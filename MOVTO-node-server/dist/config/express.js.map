{"version":3,"sources":["config/express.js"],"names":["cronJob","app","fs","require","config","env","http","server","createServer","https","privateKey","readFileSync","certificate","ca","httpsOptions","key","cert","use","bodyParser","json","limit","urlencoded","extended","passport","initialize","expressWinston","requestWhitelist","push","responseWhitelist","req","res","next","console","log","originalUrl","express","static","path","resolve","__dirname","routes","get","sendFile","checkAndProcessScheduledRequests","notifyRiderDriverBeforeAnHour","notificationIfNoActiveTrip","err","expressValidation","ValidationError","unifiedErrorMessage","errors","map","messages","error","join","split","splice","APIError","status","apiError","message","isPublic","httpStatus","NOT_FOUND","errorLogger","winstonInstance","info","body","query","success","code","stack"],"mappings":"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","file":"express.js","sourceRoot":"../../.."}