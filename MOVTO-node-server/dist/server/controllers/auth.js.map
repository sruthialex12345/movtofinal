{"version":3,"sources":["server/controllers/auth.js"],"names":["randomstring","require","loginAdmin","req","res","next","UserSchema","findOneAsync","email","body","toLowerCase","isDeleted","$or","userType","USER_TYPE_ADMIN","USER_TYPE_SUPER_ADMIN","then","user","err","APIError","httpStatus","NOT_FOUND","mobileVerified","isActive","comparePassword","password","passwordError","isMatch","UNAUTHORIZED","numberunique","_id","jwtAccessToken","loginStatus","jwtTokenAuth","fname","accessCode","gpsLoc","token","jwt","sign","config","jwtSecret","updateDoc","device","loggedInDevices","type","findOneAndUpdateAsync","new","updatedUser","returnObj","success","message","data","json","error","err123","INTERNAL_SERVER_ERROR","e","loginDriver","userObj","USER_TYPE_DRIVER","unixTimestamp","Math","round","Date","getTime","randomNumber","generate","length","tripSchema","findOne","activeStatus","populate","exec","result","shuttle","shuttleId","response","driverRoute","driver","route","terminals","catch","loginDriverAccessCode","$set","accessCodeVerified","login","logout","undefined","console","log","findOneAndUpdate","userDoc","checkUser","foundUser","send","clearSession","socketUser","SocketStore","getByUserId","removeByUserId"],"mappings":"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","file":"auth.js","sourceRoot":"../../../../.."}