{"version":3,"sources":["server/controllers/sync-data.js"],"names":["getSyncData","req","res","next","user","currTripId","currTripState","returnObj","success","message","data","tripRequest","trip","undefined","send","TripRequestSchema","findOneAsync","$and","_id","$or","tripRequestStatus","then","tripRequestObj","transformedTripRequestObj","error","e","err","APIError","httpStatus","INTERNAL_SERVER_ERROR","TripSchema","tripStatus","tripObj","transformedTripObj"],"mappings":"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","file":"sync-data.js","sourceRoot":"../../../../.."}