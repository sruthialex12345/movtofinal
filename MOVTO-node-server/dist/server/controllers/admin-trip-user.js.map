{"version":3,"sources":["server/controllers/admin-trip-user.js"],"names":["debug","require","userTripDetails","req","res","next","userId","params","query","limit","config","pageNo","skip","UserSchema","findByIdAsync","then","userObject","returnObj","success","message","data","meta","totalNoOfPages","currPageNo","totalRecords","undefined","send","userType","TripRequestSchema","getUserCount","totalUserTripRequestRecords","Math","ceil","err","APIError","httpStatus","NOT_FOUND","userList","userTripRequestData","users","map","transformReturnObj","error","e","INTERNAL_SERVER_ERROR","userTripRequestStatics","searchObj","groupBy","USER_TYPE_RIDER","riderId","_id","USER_TYPE_DRIVER","driverId","aggregateAsync","$match","$group","completed","$sum","$cond","$eq","inQueue","$anyElementTrue","$map","input","as","in","cancelled","$or","totalRequest","chartStats"],"mappings":"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","file":"admin-trip-user.js","sourceRoot":"../../../../.."}