{"version":3,"sources":["server/socketHandler/story/fetchrides.js"],"names":["fetchRidesUptoSevenDays","socket","on","driverId","currentDate","Date","toISOString","sevenDaysDate","add","TripSchema","aggregateAsync","$match","bookingTime","$gt","$lt","tripStatus","then","ridesData","length","SocketStore","emitByUserId","catch"],"mappings":";;;;;;AAAA;;;;AAEA;;;;AACA;;;;;;AAEA,SAASA,uBAAT,CAAiCC,MAAjC,EAAyC;AACvC;;;;;;AAMAA,SAAOC,EAAP,CAAU,gBAAV,EAA4B,UAACC,QAAD,EAAc;AACxC,QAAMC,cAAc,IAAIC,IAAJ,GAAWC,WAAX,EAApB;AACA,QAAMC,gBAAgB,IAAIF,IAAJ,CAAS,sBAAOD,WAAP,EAAoBI,GAApB,CAAwB,CAAxB,EAA2B,MAA3B,CAAT,CAAtB;AACAC,mBAAWC,cAAX,CAA0B,CAAC,EAAEC,QAAQ,EAAEC,aAAa,EAAEC,KAAKT,WAAP,EAAoBU,KAAKP,aAAzB,EAAf,EAAyDQ,YAAY,WAArE,EAAV,EAAD,CAA1B,EACGC,IADH,CACQ,UAACC,SAAD,EAAe;AACnB,UAAIA,UAAUC,MAAV,GAAmB,CAAvB,EAA0B;AACxBC,8BAAYC,YAAZ,CAAyBjB,QAAzB,EAAmC,kBAAnC,EAAuDc,SAAvD;AACD,OAFD,MAEO;AACLE,8BAAYC,YAAZ,CAAyBjB,QAAzB,EAAmC,wBAAnC,EAA6Dc,SAA7D;AACD;AACF,KAPH,EAQGI,KARH,CAQS,YAAM;AACX,UAAMJ,YAAY,EAAlB;AACAE,4BAAYC,YAAZ,CAAyBjB,QAAzB,EAAmC,8CAAnC,EAAmFc,SAAnF;AACD,KAXH;AAYD,GAfD;AAgBD;;kBAEcjB,uB","file":"fetchrides.js","sourceRoot":"../../../../../../.."}